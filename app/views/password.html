<div class="row-fluid">
	<div ng-include="'views/message_template.html'"></div>
</div>
<div class="row-fluid">
	<div class="span12">		
		<div class="well well-kabaWhite">
			<form name="form" class="form-horizontal" ng-submit="submit()" novalidate>
				<legend ng-bind="::translation.legend"></legend>
				<div class="control-group">
					<label for="inputUsername" class="control-label" ng-bind="::translation.user"></label>
					<div class="controls">
						<select ng-model="selectedOption" ng-options="option.name for option in options"></select>		 
					</div>		
				</div>
										
				<div class="control-group" ng-class="{ error :  form.currentPassword.$invalid && form.currentPassword.$dirty || errorFields.currentPassword}">
					<label for="inputCurrentPassword" class="control-label" ng-bind="::translation.currentPassword"></label>
					<div class="controls">
						<input type="password" name="currentPassword" placeholder="{{::translation.currentPassword_placeholder}}" ng-model="user.currentPassword" ng-model-options="{ debounce: 200 }" ng-change="clean()" required>
						<span class="help-inline" ng-messages="form.currentPassword.$dirty && form.currentPassword.$error">
	     					<span ng-message="required">{{::translation.requiredField}}</span>
	   					</span>
						<span class="help-inline" ng-bind="errorFields.currentPassword"></span>
					</div>		
				</div>
			
				<div class="control-group" ng-class="{ error :  form.newPassword.$invalid && form.newPassword.$dirty || form.confirmPassword.$error.match || errorFields.newPassword }">
					<label for="inputNewPassword" class="control-label" ng-bind="::translation.newPassword"></label>
					<div class="controls">
						<input name="newPassword" type="password" placeholder="{{::translation.newPassword_placeholder}}" ng-model="user.newPassword" ng-model-options="{ debounce: 200 }" ng-change="clean()" dyn-minlength={{::rules.minlength}} dyn-maxlength={{::rules.maxlength}} required>
						<span class="help-inline" ng-messages="form.newPassword.$dirty && form.newPassword.$error">
	     					<span ng-message="required">{{::translation.requiredField}}</span>
	     					<span ng-message="minlength">{{::translation.minlength}}</span>
	     					<span ng-message="maxlength">{{::translation.maxlength}}</span>
	   					</span>
						<span class="help-inline" ng-bind="errorFields.newPassword"></span>
					</div>	
				</div>
								
				<div class="control-group" ng-class="{ error :  form.confirmPassword.$invalid && form.confirmPassword.$dirty || form.confirmPassword.$error.match }">
					<label for="inputPasswordConfirm" class="control-label" ng-bind="::translation.confirmPassword"></label>
					<div class="controls">
						<input type="password" name="confirmPassword" placeholder="{{::translation.confirmPassword_placeholder}}" ng-model="user.confirmPassword" data-match="user.newPassword" required>
						<span class="help-inline" ng-messages="form.confirmPassword.$dirty && form.confirmPassword.$error">
	     					<span ng-message="match">{{::translation.matchField}}</span>
	   					</span>
					</div>
				</div>
				
				<div class="control-group">
					<div class="controls">
						<button type="submit" id="saveButton" class="btn btn-custom-lighten" ng-disabled="form.$invalid" ng-bind="::translation.saveButton"></button>
					</div>
				</div>
			</form>
		</div>	
	</div>	
</div>


